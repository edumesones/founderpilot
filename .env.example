# FounderPilot Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# Application
# =============================================================================
APP_NAME=FounderPilot
APP_ENV=development
DEBUG=false
API_V1_PREFIX=/api/v1

# =============================================================================
# Database
# =============================================================================
DATABASE_URL=postgresql+asyncpg://founderpilot:password@localhost:5432/founderpilot

# =============================================================================
# Redis
# =============================================================================
REDIS_URL=redis://localhost:6379/0

# =============================================================================
# JWT Configuration (FEAT-001)
# =============================================================================
# Option 1: RS256 with RSA keys (recommended for production)
# Generate RSA keys with:
#   openssl genrsa -out private.pem 2048
#   openssl rsa -in private.pem -pubout -out public.pem
# Then base64 encode them for env vars:
#   base64 -w 0 private.pem
#   base64 -w 0 public.pem
JWT_PRIVATE_KEY=<base64-encoded-private-key>
JWT_PUBLIC_KEY=<base64-encoded-public-key>
JWT_ALGORITHM=RS256

# Option 2: HS256 with secret key (simpler, for development)
JWT_SECRET_KEY=your-super-secret-key-change-in-production

JWT_ACCESS_TOKEN_EXPIRE_MINUTES=1440

# =============================================================================
# Encryption (FEAT-001)
# =============================================================================
# Generate Fernet key with:
#   python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=your-32-byte-fernet-key

# =============================================================================
# Google OAuth (FEAT-001, FEAT-003)
# =============================================================================
# Create OAuth credentials at https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:8000/api/v1/auth/google/callback

# =============================================================================
# Gmail Configuration (FEAT-001, FEAT-003)
# =============================================================================
# Uses same app as Google OAuth, different scopes
GMAIL_CLIENT_ID=${GOOGLE_CLIENT_ID}
GMAIL_CLIENT_SECRET=${GOOGLE_CLIENT_SECRET}

# Gmail Push Notifications (FEAT-003 - InboxPilot)
GMAIL_PUBSUB_TOPIC=projects/your-project/topics/gmail-notifications
GMAIL_PUBSUB_SUBSCRIPTION=projects/your-project/subscriptions/gmail-push

# =============================================================================
# Stripe Configuration (FEAT-002)
# =============================================================================
# Get these from https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_xxx
STRIPE_PUBLISHABLE_KEY=pk_test_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx

# Stripe Price IDs
STRIPE_PRICE_INBOX=price_inboxpilot_monthly
STRIPE_PRICE_INVOICE=price_invoicepilot_monthly
STRIPE_PRICE_MEETING=price_meetingpilot_monthly
STRIPE_PRICE_BUNDLE=price_bundle_monthly
TRIAL_DAYS=14

# =============================================================================
# Slack Integration (FEAT-001, FEAT-006)
# =============================================================================
# Create a Slack App at https://api.slack.com/apps
SLACK_CLIENT_ID=your-slack-client-id
SLACK_CLIENT_SECRET=your-slack-client-secret
SLACK_SIGNING_SECRET=your-slack-signing-secret

# For development without OAuth (optional)
SLACK_BOT_TOKEN=xoxb-your-bot-token
SLACK_APP_TOKEN=xapp-your-app-token

# OAuth redirect
SLACK_REDIRECT_URI=http://localhost:8000/api/v1/integrations/slack/callback

# =============================================================================
# LLM Configuration
# =============================================================================
OPENAI_API_KEY=sk-your-openai-key
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key

# =============================================================================
# Observability (Langfuse)
# =============================================================================
LANGFUSE_PUBLIC_KEY=pk-lf-your-public-key
LANGFUSE_SECRET_KEY=sk-lf-your-secret-key
LANGFUSE_HOST=https://cloud.langfuse.com

# =============================================================================
# Frontend URLs
# =============================================================================
FRONTEND_URL=http://localhost:3000

# =============================================================================
# Rate Limiting (FEAT-001)
# =============================================================================
RATE_LIMIT_AUTH_REQUESTS=10
RATE_LIMIT_AUTH_WINDOW_SECONDS=60

# =============================================================================
# InboxPilot Configuration (FEAT-003)
# =============================================================================
INBOX_PILOT_ESCALATION_THRESHOLD=0.8
INBOX_PILOT_DRAFT_THRESHOLD=0.7
INBOX_PILOT_RATE_LIMIT_TRIAL=50
INBOX_PILOT_RATE_LIMIT_PAID=500

# =============================================================================
# InvoicePilot Configuration (FEAT-004)
# =============================================================================
# Feature flag to enable/disable InvoicePilot
INVOICE_PILOT_ENABLED=true

# Confidence threshold for automatic invoice confirmation (0.0-1.0)
# Invoices below this threshold require manual confirmation
INVOICE_CONFIDENCE_THRESHOLD=0.8

# Reminder schedule in days relative to due date
# Negative values = days before due date, positive = days after
# Example: "-3,3,7,14" sends reminders 3 days before, then 3, 7, 14 days after due date
INVOICE_REMINDER_SCHEDULE=-3,3,7,14

# How often to scan for new invoices (in minutes)
INVOICE_SCAN_INTERVAL=5

# Number of reminders before escalation to founder
INVOICE_ESCALATION_THRESHOLD=3

# Days overdue before marking invoice as problematic
INVOICE_OVERDUE_DAYS_WARNING=30

# Reminder tone/style (options: friendly, professional, firm)
INVOICE_REMINDER_TONE=friendly

# Rate limits for InvoicePilot
INVOICE_PILOT_RATE_LIMIT_TRIAL=20
INVOICE_PILOT_RATE_LIMIT_PAID=200
